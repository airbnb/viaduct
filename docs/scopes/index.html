<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="alternate" type="application/rss&#43;xml" href="https://viaduct.airbnb.tech/docs/scopes/index.xml">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Scopes | Viaduct</title>
<meta name="description" content="Schema visibility and access control in Viaduct.">
<meta property="og:url" content="https://viaduct.airbnb.tech/docs/scopes/">
  <meta property="og:site_name" content="Viaduct">
  <meta property="og:title" content="Scopes">
  <meta property="og:description" content="Schema visibility and access control in Viaduct.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Scopes">
  <meta itemprop="description" content="Schema visibility and access control in Viaduct.">
  <meta itemprop="wordCount" content="1350">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Scopes">
  <meta name="twitter:description" content="Schema visibility and access control in Viaduct.">
<link rel="preload" href="/scss/main.min.14ba7c8a19450bf567c3f0bc2bbac4a9bed940108c04fa903c820a598c60ae94.css" as="style" integrity="sha256-FLp8ihlFC/Vnw/C8K7rEqb7ZQBCMBPqQPIIKWYxgrpQ=" crossorigin="anonymous">
<link href="/scss/main.min.14ba7c8a19450bf567c3f0bc2bbac4a9bed940108c04fa903c820a598c60ae94.css" rel="stylesheet" integrity="sha256-FLp8ihlFC/Vnw/C8K7rEqb7ZQBCMBPqQPIIKWYxgrpQ=" crossorigin="anonymous">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-79P40SMGG8"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-79P40SMGG8');
        }
      </script>
  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1080 400.94"><defs><style>.cls-1{fill:#fff}</style></defs><g id="Line"><path class="cls-1" d="M94.31 97.99c-.94.0-1.88-.36-2.6-1.08L17.43 22.63c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0L96.92 91.7c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M94.31 97.99c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l74.28-74.27c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L96.92 96.92c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M317.16 172.27c-.94.0-1.88-.36-2.6-1.08L165.99 22.63c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M168.59 172.27c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21L314.55 17.43c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L171.2 171.2c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M317.16 320.84c-.94.0-1.88-.36-2.6-1.08L166 171.2c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M168.59 320.84c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l148.56-148.56c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L171.2 319.76c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M391.44 97.99c-.94.0-1.88-.36-2.6-1.08l-74.28-74.28c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l74.28 74.28c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M391.44 97.99c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l74.28-74.28c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21l-74.28 74.28c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M614.28 172.27c-.94.0-1.88-.36-2.6-1.08L463.12 22.63c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M465.72 172.27c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21L611.68 17.43c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L468.33 171.2c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M614.28 320.84c-.94.0-1.88-.36-2.6-1.08L463.12 171.2c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M465.72 320.84c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l148.56-148.56c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L468.33 319.76c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M688.56 97.99c-.94.0-1.88-.36-2.6-1.08l-74.28-74.28c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l74.28 74.28c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M688.56 97.99c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l74.28-74.28c1.44-1.44 3.77-1.44 5.21.0 1.44 1.44 1.44 3.77.0 5.21l-74.28 74.28c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M911.41 172.27c-.94.0-1.88-.36-2.6-1.08L760.24 22.63c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M762.84 172.27c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21L908.8 17.43c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L765.45 171.2c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M911.41 320.84c-.94.0-1.88-.36-2.6-1.08L760.25 171.2c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0l148.56 148.56c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M762.84 320.84c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21L908.8 165.99c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L765.45 319.76c-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M985.69 97.99c-.94.0-1.88-.36-2.6-1.08l-74.28-74.28c-1.44-1.44-1.44-3.77.0-5.21s3.77-1.44 5.21.0L988.3 91.7c1.44 1.44 1.44 3.77.0 5.21-.72.72-1.66 1.08-2.6 1.08z"/><path class="cls-1" d="M985.69 97.99c-.94.0-1.88-.36-2.6-1.08-1.44-1.44-1.44-3.77.0-5.21l74.28-74.28c1.44-1.44 3.77-1.44 5.21.0s1.44 3.77.0 5.21L988.3 96.91c-.72.72-1.66 1.08-2.6 1.08z"/></g><g id="Container"><path class="cls-1" d="M911.41 320.84c-2.03.0-3.68-1.65-3.68-3.68V168.6c0-2.03 1.65-3.68 3.68-3.68s3.68 1.65 3.68 3.68v148.56c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M911.41 320.84H762.85c-2.03.0-3.68-1.65-3.68-3.68s1.65-3.68 3.68-3.68h148.56c2.03.0 3.68 1.65 3.68 3.68s-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M762.84 320.84c-2.03.0-3.68-1.65-3.68-3.68V168.6c0-38.93-31.67-70.6-70.6-70.6s-70.6 31.67-70.6 70.6v148.56c0 2.03-1.65 3.68-3.68 3.68s-3.68-1.65-3.68-3.68V168.6c0-42.99 34.97-77.96 77.96-77.96s77.96 34.97 77.96 77.96v148.56c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M614.28 320.84H465.72c-2.03.0-3.68-1.65-3.68-3.68s1.65-3.68 3.68-3.68h148.56c2.03.0 3.68 1.65 3.68 3.68s-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M465.72 320.84c-2.03.0-3.68-1.65-3.68-3.68V168.6c0-38.93-31.67-70.6-70.6-70.6s-70.6 31.67-70.6 70.6v148.56c0 2.03-1.65 3.68-3.68 3.68s-3.68-1.65-3.68-3.68V168.6c0-42.99 34.97-77.96 77.96-77.96s77.96 34.97 77.96 77.96v148.56c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M317.16 320.84H168.6c-2.03.0-3.68-1.65-3.68-3.68s1.65-3.68 3.68-3.68h148.56c2.03.0 3.68 1.65 3.68 3.68s-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M168.59 320.84c-2.03.0-3.68-1.65-3.68-3.68V168.6c0-38.93-31.67-70.6-70.6-70.6H20.03c-2.03.0-3.68-1.65-3.68-3.68s1.65-3.68 3.68-3.68h74.28c42.99.0 77.96 34.97 77.96 77.96v148.56c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M20.03 97.99c-2.03.0-3.68-1.65-3.68-3.68V20.03c0-2.03 1.65-3.68 3.68-3.68s3.68 1.65 3.68 3.68v74.28c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M1059.97 23.71H20.03c-2.03.0-3.68-1.65-3.68-3.68s1.65-3.68 3.68-3.68h1039.94c2.03.0 3.68 1.65 3.68 3.68s-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M1059.97 97.99c-2.03.0-3.68-1.65-3.68-3.68V20.03c0-2.03 1.65-3.68 3.68-3.68s3.68 1.65 3.68 3.68v74.28c0 2.03-1.65 3.68-3.68 3.68z"/><path class="cls-1" d="M911.41 320.84c-2.03.0-3.68-1.65-3.68-3.68V168.6c0-42.99 34.97-77.96 77.96-77.96h74.28c2.03.0 3.68 1.65 3.68 3.68S1062 98 1059.97 98h-74.28c-38.93.0-70.6 31.67-70.6 70.6v148.56c0 2.03-1.65 3.68-3.68 3.68z"/></g><g id="Dot"><circle class="cls-1" cx="20.03" cy="20.03" r="20.03"/><circle class="cls-1" cx="94.31" cy="94.31" r="20.03"/><circle class="cls-1" cx="168.59" cy="20.03" r="20.03"/><circle class="cls-1" cx="168.59" cy="168.59" r="20.03"/><circle class="cls-1" cx="168.59" cy="317.16" r="20.03"/><circle class="cls-1" cx="242.87" cy="94.31" r="20.03"/><circle class="cls-1" cx="242.87" cy="242.87" r="20.03"/><circle class="cls-1" cx="317.16" cy="20.03" r="20.03"/><circle class="cls-1" cx="317.16" cy="168.59" r="20.03"/><circle class="cls-1" cx="317.16" cy="317.16" r="20.03"/><circle class="cls-1" cx="391.44" cy="94.31" r="20.03"/><circle class="cls-1" cx="465.72" cy="20.03" r="20.03"/><circle class="cls-1" cx="465.72" cy="168.59" r="20.03"/><circle class="cls-1" cx="465.72" cy="316.79" r="20.03"/><circle class="cls-1" cx="540" cy="94.31" r="20.03"/><circle class="cls-1" cx="540" cy="242.87" r="20.03"/><circle class="cls-1" cx="614.28" cy="20.4" r="20.03"/><circle class="cls-1" cx="614.28" cy="168.59" r="20.03"/><circle class="cls-1" cx="614.28" cy="316.79" r="20.03"/><circle class="cls-1" cx="688.56" cy="94.31" r="20.03"/><circle class="cls-1" cx="762.84" cy="20.03" r="20.03"/><circle class="cls-1" cx="762.84" cy="168.59" r="20.03"/><circle class="cls-1" cx="762.84" cy="316.79" r="20.03"/><circle class="cls-1" cx="837.13" cy="94.31" r="20.03"/><circle class="cls-1" cx="837.13" cy="242.87" r="20.03"/><circle class="cls-1" cx="911.41" cy="20.03" r="20.03"/><circle class="cls-1" cx="911.41" cy="168.59" r="20.03"/><circle class="cls-1" cx="911.41" cy="317.16" r="20.03"/><circle class="cls-1" cx="985.69" cy="94.31" r="20.03"/><circle class="cls-1" cx="1059.97" cy="20.03" r="20.03"/></g></svg></span><span class="navbar-brand__name">Viaduct</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/about/"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://medium.com/airbnb-engineering" target="_blank" rel="noopener"><span>Blog</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/api/"><span>API</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Docs</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/roadmap/"><span>Roadmap</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/community/"><span>Community</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.bb9f71210a4a9750b28bfa1fa7603f12.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.bb9f71210a4a9750b28bfa1fa7603f12.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" title="Documentation" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Docs</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgetting_started-li">
  <a href="/docs/getting_started/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsgetting_started"><span class="">Getting Started</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstutorials-li">
  <a href="/docs/tutorials/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docstutorials"><span class="">Tutorials</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsresolvers-li">
  <a href="/docs/resolvers/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsresolvers"><span class="">Resolvers</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversnode_resolvers-li">
  <a href="/docs/resolvers/node_resolvers/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversnode_resolvers"><span class="">Node Resolvers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversfield_resolvers-li">
  <a href="/docs/resolvers/field_resolvers/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversfield_resolvers"><span class="">Field Resolvers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversbatch_resolution-li">
  <a href="/docs/resolvers/batch_resolution/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversbatch_resolution"><span class="">Batch Resolution</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversresolver_annotation-li">
  <a href="/docs/resolvers/resolver_annotation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversresolver_annotation"><span class="">Resolver Annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversnode_references-li">
  <a href="/docs/resolvers/node_references/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversnode_references"><span class="">Node References</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolverssubqueries-li">
  <a href="/docs/resolvers/subqueries/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolverssubqueries"><span class="">Subqueries</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsresolversmutations-li">
  <a href="/docs/resolvers/mutations/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsresolversmutations"><span class="">Mutations</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsobservability-li">
  <a href="/docs/observability/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsobservability"><span class="">Observability</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsobservabilityerror_handling-li">
  <a href="/docs/observability/error_handling/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsobservabilityerror_handling"><span class="">Error Handling</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsobservabilityinstrumentation-li">
  <a href="/docs/observability/instrumentation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsobservabilityinstrumentation"><span class="">Instrumentation</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstesting-li">
  <a href="/docs/testing/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docstesting"><span class="">Testing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsglobalids-li">
  <a href="/docs/globalids/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsglobalids"><span class="">GlobalIDs</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsscopes-li">
  <a href="/docs/scopes/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__section" id="m-docsscopes"><span class="td-sidebar-nav-active-item">Scopes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsgenerated_code-li">
  <a href="/docs/generated_code/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsgenerated_code"><span class="">Generated Code</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgenerated_codecode_structure-li">
  <a href="/docs/generated_code/code_structure/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsgenerated_codecode_structure"><span class="">Code Structure</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsmultiple_modules-li">
  <a href="/docs/multiple_modules/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsmultiple_modules"><span class="">Multiple Modules</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsschema_change_management-li">
  <a href="/docs/schema_change_management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsschema_change_management"><span class="">Schema Change Management</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsservice_calls-li">
  <a href="/docs/service_calls/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsservice_calls"><span class="">Service Calls</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/airbnb/viaduct/tree/main/docs/content/docs/scopes/_index.md" class="td-page-meta--view td-page-meta__view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/airbnb/viaduct/edit/main/docs/content/docs/scopes/_index.md" class="td-page-meta--edit td-page-meta__edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/airbnb/viaduct/new/main/docs/content/docs/scopes?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child td-page-meta__child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/airbnb/viaduct/issues/new?title=Scopes" class="td-page-meta--issue td-page-meta__issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#scopes">Scopes</a>
      <ul>
        <li><a href="#the-scoop-on-scopes">The scoop on scopes</a></li>
        <li><a href="#multiple-schemas">Multiple Schemas</a></li>
        <li><a href="#guidelines-for-annotating-types-with-scope">Guidelines for annotating types with @scope</a></li>
        <li><a href="#validation">Validation</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    
            
	
          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/docs/">Docs</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    Scopes</li>
  </ol>
</nav>
<div class="td-content">
	<h1>Scopes</h1>
  <div class="lead">Schema visibility and access control in Viaduct.</div>
	<header class="article-meta">
		
  </header>
	<h2 id="scopes">Scopes<a class="td-heading-self-link" href="#scopes" aria-label="Heading self-link"></a></h2><p>This document provides an overview on how to define scopes on the Viaduct GraphQL schema.</p>
<h3 id="the-scoop-on-scopes">The scoop on scopes<a class="td-heading-self-link" href="#the-scoop-on-scopes" aria-label="Heading self-link"></a></h3><p>In order to make schema visibility control more explicit and intuitive, we introduced Scopes.</p>
<p>Scopes are a mechanism for encapsulating parts of your schema for information-hiding purposes. Two commonly-used scopes are <code>viaduct</code>, which has a bigger schema available to all of your internal systems, and <code>viaduct:public</code>, a smaller schema available publicly to your frontend clients. Almost all data types will have <code>viaduct</code> scope, which allows them to be queried by backend clients. Some data types, or a subset of fields within data types that can be queried by frontend clients, also have the <code>viaduct:public</code> scope.</p>
<p>Scopes leverage GraphQL type extensions to separate fields within a type that belong to different scopes. This convention avoids the need for annotating each field in the schema with <code>@scope</code> directives, and provides a way to separate different types of fields in the SDL to optimize for human readability.</p>
<p>For example, if we are to expose only <code>field1</code> from <code>Foo</code> to <code>viaduct:public</code> but not <code>field2</code> or <code>field3</code>, we will organize our schema like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Foo</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:public&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field1</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Bar</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Foo</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field2</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Int</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>field3<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Bar</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:public&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field4</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Boolean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>field5<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>As you will also learn from the later sections, the scope validation system will also enforce explicitness so that each type (including <code>object</code>, <code>input</code>, <code>interface</code>, <code>union</code>, and <code>enum</code>) and their extensions will always have at least one scope value.</p>
<p>[alert]</p>
<p>Either nothing is scoped or <em>everything</em> has a scope applied to it. There is no default scope.</p>
<p>[/alert]</p>
<h3 id="multiple-schemas">Multiple Schemas<a class="td-heading-self-link" href="#multiple-schemas" aria-label="Heading self-link"></a></h3><p>A single instance of the Viaduct framework can expose multiple schemas. Within Airbnb, for instance, the Viaduct service itself, exposes a different, more complete schema to internal clients than it exposes to external Web and mobile clients. Scopes also provide encapsulation that allows us to hide implementation details present in your central schema.</p>
<p>Every schema exported by an instance of the Viaduct framework is called a scope set. A scope set is identified by a schema ID. The particular scope set seen by a given request to the Viaduct framework is controlled by the <code>schemaId</code> field of <code>viaduct.service.api.ExecutionInput</code>. In the above example, <code>viaduct</code> and <code>viaduct:public</code> are both schema IDs. You can use as many schema IDs as you like with whatever naming scheme fits your use case.</p>
<h3 id="guidelines-for-annotating-types-with-scope">Guidelines for annotating types with @scope<a class="td-heading-self-link" href="#guidelines-for-annotating-types-with-scope" aria-label="Heading self-link"></a></h3><h4 id="always-append-scope-to-the-main-type">Always append <code>@scope</code> to the main type<a class="td-heading-self-link" href="#always-append-scope-to-the-main-type" aria-label="Heading self-link"></a></h4><p>Whenever you are creating a new type (including <code>object type</code>, <code>input type</code>, <code>interface</code>, <code>union</code>, and <code>enum</code>), always append <code>@scope(to: [&quot;scope1&quot;, &quot;scope2&quot;, ...])</code> to the type itself. (Replace <code>&quot;scope1&quot;</code>, <code>&quot;scope2&quot;</code>, etc. with your desired scopes)</p>
<p>All the attributes within the main type will share and be exposed to ALL the scopes defined in the <code>@scope</code> values.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#57606a"># field1 and field2 will be visible to both Viaduct data API and public API</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Foo</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:public&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field1</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Int</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>field2<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a"># CONSTANT1 and CONSTANT2 will be visible to Viaduct data API, as well as both foo and bar.</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">enum</span><span style="color:#fff"> </span><span style="color:#1f2328">Bar</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;foo&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;bar&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">CONSTANT1</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>CONSTANT2<span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a"># field from Baz is only visible to Viaduct data API</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">input</span><span style="color:#fff"> </span><span style="color:#1f2328">Baz</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Boolean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><h4 id="create-type-extensions-and-move-fields-with-narrower-scopes-to-this-extension">Create type extensions and move fields with narrower scopes to this extension<a class="td-heading-self-link" href="#create-type-extensions-and-move-fields-with-narrower-scopes-to-this-extension" aria-label="Heading self-link"></a></h4><p>If you need to limit the visible scopes for certain fields, create a type extension, move those fields over, and append <code>@scope</code> with proper scopes.</p>
<p>For example, the following definition will expose <code>field3</code> to <code>private</code> only.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Foo</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;public&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;private&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field1</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Int</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>field2<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Foo</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;private&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">field3</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Boolean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><h3 id="validation">Validation<a class="td-heading-self-link" href="#validation" aria-label="Heading self-link"></a></h3><p>In GraphQL SDL, scopes are referenced by their string value, and in Kotlin are referenced by the strongly typed enum member. The SDL will be validated at build time to ensure invalid scope names were not referenced.</p>
<p>In addition to detecting invalid scope names, the Viaduct Bazel validators will perform other static analysis on the schema in order to detect invalid or confusing scope usage.</p>
<h4 id="detecting-inaccessible-fields-when-referencing-another-type">Detecting inaccessible fields when referencing another type<a class="td-heading-self-link" href="#detecting-inaccessible-fields-when-referencing-another-type" aria-label="Heading self-link"></a></h4><p>Static analysis tooling will detect <code>@scope</code> usages that cause inaccessible fields. Take the following schema excerpt:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;scope1&#34;</span><span style="color:#1f2328">,</span><span style="color:#0a3069">&#34;scope2&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">id</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">ID</span><span style="color:#1f2328">!</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>firstName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>lastName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">Listing</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;scope3&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">user</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#57606a"># this field would never be accessible</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>In the above example, the User type is only available in the <code>scope1</code> and <code>scope2</code> scopes, and the Listing type is only available in the <code>scope3</code> scope. The <code>user</code> field in <code>Listing</code> is of type <code>User</code>, but <code>User</code> is not visible to the scopes associated with the <code>Listing</code> type. Thus, filtering the schema to any of the three scopes used in this schema excerpt would result in the <code>user</code> field within <code>Listing</code> being filtered out of the schema.</p>
<p>This invariant can be corrected in two ways:</p>
<ul>
<li>The <code>Listing</code> type’s scope should be modified to include <code>scope1</code> or <code>scope2</code>, OR</li>
<li>The <code>User</code> type’s scope should be modified to include the <code>scope3</code> scope.</li>
</ul>
<h4 id="auto-prune-a-type-when-all-of-its-fields-are-out-of-scope">Auto prune a type when all of its fields are out of scope<a class="td-heading-self-link" href="#auto-prune-a-type-when-all-of-its-fields-are-out-of-scope" aria-label="Heading self-link"></a></h4><p>When all the fields of a type are out of scope, this type will not be accessible, even if it is within the scope. Therefore, Viaduct prunes such empty types recursively in the generated schema. For example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">StaySpace</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;listing-block&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:private&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">spaceId</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">Long</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>metadata<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">SpaceMetadata</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">SpaceMetadata</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;listing-block&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">bathroom</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">StayBathroomMetadata</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>bedroom<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">StayBedroomMetadata</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">StayBathroomMetadata</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:private&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">spaceName</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">StayBedroomMetadata</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;viaduct:private&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">spaceName</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Filtering the above schema excerpt to <code>listing-block</code> will make <code>SpaceMetadata</code> an empty type, since both <code>StayBathroomMetadata</code> and <code>StayBedroomMetadata</code> will not be in the scope. Thus, <code>SpaceMetadata</code> attribute will be pruned from <code>StaySpace</code> in the <code>listing-block</code> scope, as it will not be reachable, despite that this type has annotated with <code>listing-block</code> scope.</p>
<h4 id="detect-invalid-scope-usage-within-a-type">Detect invalid scope usage within a type<a class="td-heading-self-link" href="#detect-invalid-scope-usage-within-a-type" aria-label="Heading self-link"></a></h4><p>When leveraging a type extension to define fields that are available in a specific scope, it’s essential that the scope specified in the directive on the type extension be one of the scopes specified in the original definition of the type.</p>
<p>Take for example the following schema excerpt:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#0a3069">&#34;user-block&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">id</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">ID</span><span style="color:#1f2328">!</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>firstName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>lastName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct:internal-tools&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">aSpecialInternalField</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>This example shows an incorrect usage of the scope directive on the type extension, as the <code>viaduct:internal-tools</code> scope is not specified as a scope on the original User type definition.</p>
<p>The correct version of the above example would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct&#34;</span><span style="color:#1f2328">,</span><span style="color:#0a3069">&#34;viaduct:internal-tools&#34;</span><span style="color:#1f2328">,</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;user-block&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">id</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">ID</span><span style="color:#1f2328">!</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>firstName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>lastName<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">User</span><span style="color:#fff"> </span><span style="color:#0550ae">@scope</span><span style="color:#1f2328">(</span>to<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;viaduct:internal-tools&#34;</span><span style="color:#1f2328">])</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span><span style="color:#1f2328">aSpecialInternalField</span><span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>This validation rule enforces the convention that common fields be defined in the original type definition, and fields that are defined in specific scopes be specified using type extensions.</p>
<h4 id="troubleshooting">Troubleshooting<a class="td-heading-self-link" href="#troubleshooting" aria-label="Heading self-link"></a></h4><p>If you get an error like <code>Unable to find concrete type ... for interface ... in the type map</code> or <code>Unable to find concrete type ... for union ... in the type map</code>, it&rsquo;s because the interface or union type is defined in schema module A, and the concrete type that implements the interface or extends the union is defined in schema module B, and B does not depend on A.</p>
<p>For example, this is not allowed because <code>UnionA</code> is defined in the data module and its member <code>TypeA</code> is defined in the entity module. The entity module does not depend on the data module.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#57606a"># modules/entity</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">TypeA</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>fieldA<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a"># modules/data</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">TypeB</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>fieldB<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">union</span><span style="color:#fff"> </span><span style="color:#1f2328">UnionA</span><span style="color:#fff"> </span><span style="color:#1f2328">=</span><span style="color:#fff"> </span>TypeB<span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span>UnionA<span style="color:#fff"> </span><span style="color:#1f2328">=</span><span style="color:#fff"> </span>TypeA<span style="color:#fff"> </span><span style="color:#57606a"># &lt;-- not ok</span><span style="color:#fff">
</span></span></span></code></pre></div><p>To fix it, make sure you define the concrete type of interface or union in a schema module that is dependent on the schema module where the interface or union type is defined.</p>
<p>For example, you can &ldquo;lift&rdquo; up the type definition for <code>UnionA</code> to the entity module:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#57606a"># modules/entity</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">TypeA</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>fieldA<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">union</span><span style="color:#fff"> </span><span style="color:#1f2328">UnionA</span><span style="color:#fff"> </span><span style="color:#1f2328">=</span><span style="color:#fff"> </span>TypeA<span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a"># modules/data</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">TypeB</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">  </span>fieldB<span style="color:#1f2328">:</span><span style="color:#fff"> </span><span style="color:#1f2328">String</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">extend</span><span style="color:#fff"> </span><span style="color:#cf222e">type</span><span style="color:#fff"> </span><span style="color:#1f2328">UnionA</span><span style="color:#fff"> </span><span style="color:#1f2328">=</span><span style="color:#fff"> </span>TypeB<span style="color:#fff"> </span><span style="color:#57606a"># &lt;-- ok</span><span style="color:#fff">
</span></span></span></code></pre></div>
	<div class="section-index">
    
    
    </div>
<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/airbnb/viaduct/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/airbnb/viaduct/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof gtag !== 'function') return;
    gtag('event', 'page_helpful', {
      'event_category': 'Helpful',
      'event_label': window.location.pathname,
      'value': value
    });
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback( 100 );
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>
<br />
</div>

          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Discussions" aria-label="Discussions">
    <a target="_blank" rel="noopener" href="https://github.com/airbnb/viaduct/discussions" aria-label="Discussions">
      <i class="fa fa-comments"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Mastodon" aria-label="Mastodon">
    <a target="_blank" rel="noopener" href="https://mastodon.social/@AirbnbViaduct" aria-label="Mastodon">
      <i class="fab fa-mastodon"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/viaduct" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/airbnb/viaduct" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Code of Conduct" aria-label="Code of Conduct">
    <a target="_blank" rel="noopener" href="https://airbnb.io/codeofconduct" aria-label="Code of Conduct">
      <i class="fas fa-scale-balanced"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2025&ndash;2025
    <span class="td-footer__authors">Airbnb, Inc. | <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a> |</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span><span class="ms-2"><a href="https://www.airbnb.com/help/article/3175" target="_blank" rel="noopener">Privacy Policy</a></span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.min.403ff095218c662472dab60ed98ecbb19431682de5ac7c6159891241cd366af5.js" integrity="sha256-QD/wlSGMZiRy2rYO2Y7LsZQxaC3lrHxhWYkSQc02avU=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>